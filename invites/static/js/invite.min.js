(()=>{(function(){let t=document.getElementById("invite-link-title"),n=document.getElementById("invite-link-input"),u=document.getElementById("invite-link-copy-button"),a=document.getElementById("invite-link-checked"),p=document.getElementById("invite-link-open"),c=document.getElementById("invite-link-web"),l=document.getElementById("invite-needs-password"),s=n.value,e=window.location.hash,d=e&&e.length>1;if(a.value===""&&(d&&(s+=`?p=${e.substring(1)}`),n.value=s,a.value="1"),l&&!d){let o=document.createElement("article");o.className="message is-info";let i=document.createElement("div");i.className="message-body",o.appendChild(i);let m=document.createElement("span");m.className="fas fa-lock",i.appendChild(m),i.appendChild(document.createTextNode(" This session requires a password to join.")),l.replaceWith(o)}u.addEventListener("click",()=>{n.select(),navigator.clipboard.writeText(n.value).then(()=>{t.textContent="Link copied! Paste it into Drawpile.",t.classList=""},()=>{t.textContent="Copying failed, please do so manually.",t.classList="has-text-danger"})}),p.href=s,c&&e&&e.length>1&&(c.href+=window.location.hash)})();})();
