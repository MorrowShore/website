(()=>{function s(a,o={},...l){let c=document.createElement(a);for(let[n,i]of Object.entries(o))n==="onclick"?c.onclick=i:c.setAttribute(n,i);return l.forEach(n=>{typeof n=="string"&&(n=document.createTextNode(n)),c.appendChild(n)}),c}(function(){"use strict";let a=document.querySelector("#ban-analyzer-input"),o=document.querySelector("#ban-analyzer-results");function l(e){let t=/\b[0-9]+;[0-9a-f:\.]+;(.+?):?\s+{/.exec(e);if(t)return t[1];let r=/\b[0-9]+;(.+?):?\s+{/.exec(e);return r?r[1]:""}function c(e){return e?`${e}`.replace(/^::ffff:/,""):""}function n(e){if(e){let t=/^drawpile.net:([0-9]+)$/.exec(`${e}`);if(t)return t[1]}return""}function i(e){let t=l(e);for(;;){let r=e.indexOf("{");if(r===-1)return null;e=e.substr(r);try{let u=JSON.parse(e);return{username:t,address:c(u.address),sid:u.s||"",userId:n(u.auth_id)}}catch(u){console.error(e,u)}e=e.substr(1)}}function d(){let e=[];for(let t of a.value.split(`
`))try{let r=i(t.trim());r&&e.push(r)}catch(r){console.error(t,r)}if(o.innerHTML="",e.length===0)o.appendChild(s("tr",{},s("td",{class:"is-italic",colspan:"4"},"Nothing here. Paste logs into the field above.")));else for(let t of e)o.appendChild(s("tr",{},s("td",{},t.username),s("td",{},t.address),s("td",{},t.sid),s("td",{},t.userId)))}a.addEventListener("input",d),d()})();})();
